ol: Senior AI Engineer & Game Developer.
Objetivo: Implementar "Bots Inteligentes" que se comporten, chateen y jueguen como humanos reales usando la API de Gemini.
1. CONFIGURACIÓN DE IDIOMA Y BOTS
En la pantalla de creación de partida (Lobby), añade:
Selector de Idioma: Español (Default) | English.
Botón "Añadir IA": Al pulsarlo, crea un jugador ficticio.
Asignación de Personalidad: Al crear el bot, asígnale aleatoriamente un objeto personality invisible:
Agresivo: Acusa rápido, usa mayúsculas, impaciente.
Analítico: Escribe formal, deduce lógicamente, tarda en responder.
Caótico: Dice tonterías, usa muchos emojis, miente sin motivo.
Tímido: Habla poco, pide perdón, sigue a la mayoría.
2. MOTOR DE JUEGO (TURNOS DE IA)
Modifica la lógica del juego para cuando sea el turno de un Bot:
Construye un prompt para Gemini que incluya:
La Palabra Secreta (si es civil) o el Historial de Pistas (si es impostor).
Su Personalidad.
El Idioma seleccionado.
Instrucción: "Genera una pista de una sola palabra basada en tu rol. No seas obvio."
3. MOTOR DE CHAT INTERACTIVO (LO MÁS IMPORTANTE)
Los bots deben reaccionar al chat.
Trigger: Cuando un jugador humano envía un mensaje al chat.
Probabilidad: Hay un 30% de probabilidad de que un Bot responda (para no saturar). Si mencionan su nombre, la probabilidad es 100%.
Prompt de Chat:
"Eres un jugador en una partida de 'El Impostor'. Tu nombre es [NombreBot] y tu personalidad es [Personalidad].
El jugador [NombreHumano] ha dicho: '[Mensaje]'.
Estado del juego: [Contexto].
Idioma: [Idioma].
Responde a este mensaje de forma corta, natural y humana. Si eres el impostor, miente o desvía la atención. Si eres civil y te acusan, defiéndete. Usa jerga de internet si tu personalidad lo dicta."
4. NOMBRES Y AVATARES REALISTAS
No les llames "Bot 1". Usa un array de nombres reales según el idioma (ej: "Juan", "Sofía", "Alex" / "Mike", "Sarah", "Chris").
Asígnales avatares generados aleatoriamente del sistema que ya tenemos.
TAREA:
Implementa la clase AIManager que maneje estas llamadas a la API desde el cliente del Host. Asegúrate de que las respuestas de la IA se envíen por peerjs al chat global para que todos las vean como mensajes normales.